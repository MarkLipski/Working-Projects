* C:\Users\Mark\Documents\Working-Projects\LeakageModel\LTspice\Dickson_Model_N=3.asc
V1 N001 0 {VIn}
V2 N004 0 {VOut}
XX1 0 N001 N001 N002 leakagemodel params: RSW=0.5, f={f}, C=2n,B={B},T={B}
XX2 0 N001 N002 N003 leakagemodel params: RSW=0.5, f={f}, C=2n,B={B},T={B}
XX3 0 N001 N003 N004 leakagemodel params: RSW=0.5, f={f}, C=2n,B={B},T={B}

* block symbol definitions
.subckt leakagemodel B1 B2 T1 T2
R2 BP2 N002 {1/(C*F)}
B3 N002 BP1 V=(V(TP2) - V(TP1))
B4 BP1 BP2 I={B*C*F*(V(BP1) - V(BP2))}
R1 TP2 N001 {1/(C*F)}
B5 TP1 T1 V={(A-1)*(V(B1) - V(B2) + V(T2) - V(T1))/(2*(A-2))}
B7 N001 TP1 V=(V(BP2) - V(BP1))
B8 TP1 TP2 I={T*C*F*(V(TP1) - V(TP2))}
B6 T2 TP2 V={(A-1)*(V(B1) - V(B2) + V(T2) - V(T1))/(2*(A-2))}
B9 TP2 TP1 I={ILeak}
B10 BP2 BP1 I={ILeak}
B1 BP1 B1 V={(1-A)*(V(B1) - V(B2) + V(T2) - V(T1))/(2*(A-2))}
B2 B2 BP2 V={(1-A)*(V(B1) - V(B2) + V(T2) - V(T1))/(2*(A-2))}
.param C=1n F=0.025Meg RSW=1000 T=0 B=0
.param A={1-exp(-1/{C*F*RSW*(4+B+T)})}
.param ILeak = 0
.ends leakagemodel

.param VOut = 3.5 VIn = 1
.step param f 50Meg 400Meg 50Meg
.op
.param B = 0.05
.backanno
.end
